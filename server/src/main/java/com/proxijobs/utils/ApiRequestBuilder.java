package com.proxijobs.utils;

import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;

public class ApiRequestBuilder {


	//----------------------------------------------------------------------------------------------------------------------------
	//																	CONSTANTS
	//----------------------------------------------------------------------------------------------------------------------------

	//----------------------------------------------------------------------------------------------------------------------------
	//																	VARIABLES
	//----------------------------------------------------------------------------------------------------------------------------
	private StringBuilder builder;
	private boolean initialized;

	//----------------------------------------------------------------------------------------------------------------------------
	//																	CONSTRUCTOR
	//----------------------------------------------------------------------------------------------------------------------------
	/**
	 * Constructor
	 * @param url
	 */
	public ApiRequestBuilder(String url) {
		this.builder = new StringBuilder(url);
		this.initialized = false;
	}



	
	//----------------------------------------------------------------------------------------------------------------------------
	//																	PRIVATE
	//----------------------------------------------------------------------------------------------------------------------------

	//----------------------------------------------------------------------------------------------------------------------------
	//																	GETTER/SETTER
	//----------------------------------------------------------------------------------------------------------------------------

	//----------------------------------------------------------------------------------------------------------------------------
	//																	PUBLIC
	//----------------------------------------------------------------------------------------------------------------------------
	/**
	 * Ajoute une param√®tre, l'encode au besoin.
	 *
	 * @param name the parameter name
	 * @param value the param value
	 * @throws UnsupportedEncodingException 
	 */
	public void addParam(String name, String value) throws UnsupportedEncodingException {
		String prefix = "&";
		if(!this.initialized) {
			prefix = "?";
			this.initialized = true;
		}
		
		this.builder.append(prefix+name+"="+URLEncoder.encode(value , "UTF-8"));	
	}
	

	/* (non-Javadoc)
	 * @see java.lang.Object#toString()
	 */
	@Override
	public String toString() {
		return this.builder.toString();
	}



}
