<h2>Journal de bord <i class="small map icon"></i></h2>


<div *ngIf="logbook">
  <div class="ui items">
    <!-- Postulation ? -->
    <div class="log-postulation item">
      <div class="ui input checkbox">
        <input type="checkbox" id="offer-log-postulation" [(ngModel)]="logbook.postulated"  />
        <label for="offer-log-postulation">Postulation</label>
      </div>
    </div>

    <!-- CV et LM envoyés ?  -->
    <div class="log-sent item">
      <div class="ui input checkbox">
        <input type="checkbox" id="offer-log-sent" [(ngModel)]="logbook.documentsSent"  />
        <label for="offer-log-sent">Envoi du CV et de la lettre de motivation</label>
      </div>
    </div>

    <!-- Sauvegarde du CV et la LM -->
    <div class="log-save-cv log-child item">
      <div class="ui link cards">
        <!-- Sauvegarder le CV -->
        <div class="ui card">
          <div class="center aligned content">

            <div *ngIf="logbook.resumeUrl !== ''">
              <i class="huge download outline icon"></i>
              <div class="meta">
                Télécharger le CV
              </div>
            </div>
            <div *ngIf="logbook.resumeUrl === ''">
              <i class="huge plus square outline icon"></i>
              <div class="meta">
                Sauvegarder le CV
              </div>
            </div>

          </div>
        </div>

        <!-- Sauvegarde la lettre -->
        <div class="ui card">
          <div class="center aligned content">
            <div *ngIf="logbook.coverLetterUrl !== ''">
              <i class="huge download outline icon"></i>
              <div class="meta">
                Sauvegarder la lettre
              </div>
            </div>
            <div *ngIf="logbook.coverLetterUrl === ''">
              <i class="huge plus square outline icon"></i>
              <div class="meta">
                Sauvegarder la lettre
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- Réponse -->
    <div class="log-response item">
      <div class="ui input checkbox">
        <input type="checkbox" id="offer-log-response"  [(ngModel)]="logbook.gotAResponse" />
        <label for="offer-log-response">Réponse</label>
      </div>
    </div>

    <!-- Le contenu de la réponse -->
    <div class="log-response-state log-child item">
      <div class="grouped fields">
        <div class="field">
          <div class="ui radio checkbox">
            <input type="radio" name="resp-state" checked="checked">
            <label>Attente</label>
          </div>
        </div>
        <div class="field">
          <div class="ui radio checkbox">
            <input type="radio" name="resp-state">
            <label>Entretien</label>
          </div>
        </div>
        <div class="field">
          <div class="ui radio checkbox">
            <input type="radio" name="resp-state">
            <label>Refus</label>
          </div>
        </div>
      </div>
    </div>

    <!-- Relances -->
    <div class="log-response-backs item">
      <div class="ui input checkbox">
        <input type="checkbox" id="offer-log-backs" [checked]="logbook.applyBacks.length > 0"/>
        <label for="offer-log-backs">Relances</label>
      </div>
    </div>

    <!-- Liste des relances -->
    <div class="log-response-backs-list log-child item">
      <div class="log-backs-list ui relaxed divided list">
        <!-- Une recherche -->
        <div class="item" *ngFor="let back of logbook.applyBacks">
          <i class="small plus square calendar icon"></i> {{back.date}} - {{back.state}}
        </div>

      </div>
    </div>

    <!-- Notes -->
    <div class="log-response-backs item">
      <div class="ui input checkbox">
        <input type="checkbox" id="offer-log-notes" />
        <label for="offer-log-notes">Notes</label>
      </div>
    </div>

    <!-- List de notes -->
    <div class="log-response-notes-list log-child item">
      <textarea class="log-notes-list"></textarea>
    </div>

  </div>
</div>

<div *ngIf="!logbook">
  <div class="pj-info-nothing item">
    <h3 class="ui icon header center aligned">
      <i class="help icon"></i>
      <div class="content">
        Rien à afficher
        <div class="sub header">Sélectionnez une offre sauvegardée.</div>
      </div>
    </h3>
  </div>
</div>
